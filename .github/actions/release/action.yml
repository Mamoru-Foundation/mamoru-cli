name: Login to Amazon ECR
description: Login to Amazon ECR
runs:
    using: composite
    steps:
        - name: Checkout
          uses: actions/checkout@v3
          with:
              fetch-depth: 0
        - name: Setup Node.js
          uses: actions/setup-node@v3
          with:
              node-version: 'lts/*'
        - name: Install dependencies
          run: yarn install --frozen-lockfile
          shell: bash
        - name: Release
          shell: bash
          env:
              GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
              NPM_TOKEN: ${{ secrets.NPM_TOKEN }}
          run: npx semantic-release
